{"version":3,"sources":["webpack:///webpack/bootstrap 37d608d85619768083a7","webpack:///external \"react\"","webpack:///external \"prop-types\"","webpack:///external \"mobx-react\"","webpack:///external \"mobx\"","webpack:///./common/pages/Base.jsx","webpack:///./~/warning/warning.js","webpack:///external \"react-router-dom\"","webpack:///./server/config/config.json","webpack:///external \"express\"","webpack:///./common/models/TodoModel.js","webpack:///./~/history/PathUtils.js","webpack:///./~/react-router/es/Router.js","webpack:///./~/react-router/es/matchPath.js","webpack:///external \"fs\"","webpack:///./server/middlewares/renderReactMiddleware.jsx","webpack:///./common/App.jsx","webpack:///./common/routes.js","webpack:///./common/stores/TimerStore.js","webpack:///./common/stores/TodoStore.js","webpack:///./~/invariant/invariant.js","webpack:///./~/react-router/es/Route.js","webpack:///./~/react-router/es/index.js","webpack:///external \"ejs\"","webpack:///external \"events\"","webpack:///external \"react-dom/server\"","webpack:///external \"secure-filters\"","webpack:///./server/apis/index.js","webpack:///./server/middlewares/allowCrossDomain.js","webpack:///./server/middlewares/spaRenderMatch.jsx","webpack:///./server/routes/index.js","webpack:///external \"body-parser\"","webpack:///external \"compression\"","webpack:///external \"cookie-parser\"","webpack:///external \"csurf\"","webpack:///external \"express-session\"","webpack:///external \"helmet\"","webpack:///external \"http\"","webpack:///external \"morgan\"","webpack:///./common/AppForSpa.jsx","webpack:///./common/components/todo/Todo.jsx","webpack:///./common/components/todo/TodoList.jsx","webpack:///./common/fetchList/serverFetch.js","webpack:///./common/pages/App/About.jsx","webpack:///./common/pages/App/Vote.jsx","webpack:///./common/pages/timer/TimerPage.jsx","webpack:///./common/pages/todo/TodoPage.jsx","webpack:///./common/stores/CommonStore.js","webpack:///./common/stores/VoteStore.js","webpack:///./common/stores/spaStores.js","webpack:///./common/utils/connectDataFetchers.jsx","webpack:///./server/app.js","webpack:///./server/controllers/Timer.js","webpack:///./server/controllers/Todo.js","webpack:///./server/utils/preRender.js","webpack:///./~/history/LocationUtils.js","webpack:///./~/history/createMemoryHistory.js","webpack:///./~/history/createTransitionManager.js","webpack:///./~/hoist-non-react-statics/index.js","webpack:///./~/react-router/es/MemoryRouter.js","webpack:///./~/react-router/es/Prompt.js","webpack:///./~/react-router/es/Redirect.js","webpack:///./~/react-router/es/StaticRouter.js","webpack:///./~/react-router/es/Switch.js","webpack:///./~/react-router/es/withRouter.js","webpack:///./~/react-router/~/isarray/index.js","webpack:///./~/react-router/~/path-to-regexp/index.js","webpack:///./~/resolve-pathname/index.js","webpack:///./~/value-equal/index.js"],"names":["eventMatchReg","getEventMethodsProps","instance","methods","Object","getOwnPropertyNames","filter","prop","test","instancePrototype","getPrototypeOf","prototype","concat","Base","constructor","props","context","__eventNames","__bindFunctions","funcBinded","bind","on","eventName","fn","Error","push","$eventBus","addListener","emit","args","off","events","index","indexOf","removeListener","splice","length","console","warn","_reactInternalInstance","getName","name","componentWillUnmount","hasOwnProperty","contextTypes","instanceOf","TodoModel","data","setFinished","finished","fromJS","object","getDefaultJSVersion","reactRender","defaultTemplate","readFileSync","__dirname","reg","webpackAssets","JSON","parse","ex","log","match","exec","middlewareConfig","req","res","next","renderReactHTML","opts","template","component","store","locals","pageConfig","needTransform","html","assign","appConfig","message","error","stack","debug","query","application","debugName","version","jsVersion","js","appName","finalLocals","state","title","css","pageStr","render","compileDebug","status","send","DevTools","require","default","mediator","App","devTools","getChildContext","$appConfig","componentDidMount","setState","left","bottom","children","defaultProps","propTypes","childContextTypes","routesConfig","path","TimerStore","startTimer","setInterval","timer","resetTimer","TodoStore","shallow","unfinishedTodoCount","todos","todo","addTodo","removeTodo","todoStore","map","item","router","post","allowCrossDomain","allowedOrigins","origin","headers","header","stores","commonStore","user","time","Date","now","some","route","baseUrl","isExact","redirect","componentHTML","errorMsg","originalUrl","url","writeHead","Location","end","renderMatch","get","content","set","AppForSpa","Todo","onChange","onRemoveTodo","e","TodoList","onAddTodo","preventDefault","todoList","id","getVote","Promise","resolve","reject","setTimeout","About","pageId","Vote","VoteStore","TimerPage","onReset","TodoPage","CommonStore","loadData","then","resp","configureStore","initStore","Store","timerStore","connectDataFetchers","IS_FIRST_MOUNT_AFTER_LOAD","process","browser","FIRST_PAGE_ID","window","__APP_CONFIG__","storeKeys","cache","Page","DataFetchersWrapper","fetchData","location","params","all","storeKey","currentStore","shouldComponentUpdate","nextProps","componentDidUpdate","prevProps","prevLocation","isUrlChanged","pathname","search","slice","_fetchDataOnClient","DATA_LOADED","mobxStores","shape","string","required","isRequired","OriginalPage","app","IP","PORT","disable","use","contentSecurityPolicy","directives","defaultSrc","styleSrc","scriptSrc","imgSrc","sandbox","reportUri","frameguard","noSniff","xssFilter","hsts","json","urlencoded","extended","resave","secret","key","saveUninitialized","cookie","httpOnly","static","maxAge","csrftoken","csrfToken","err","dir","reason","p","server","createServer","listen","address","port","serverName","module","exports","preRender","WrappedComponent","lastComponent","components","promises"],"mappings":"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gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA,gSAAgS;;AAEhS;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;;AAEA;AACA,mSAAmS;;AAEnS;AACA;;AAEA;AACA;;AAEA;;AAEA,gBAAgB,qCAAqC;AACrD,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,sC;;;;;;;;;;;;ACzKA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0C;;;;;;;;;;;;ACpFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;ACjDA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;;AAEA;AACA,kIAAwC,uDAAuD;AAC/F;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,uE;;;;;;;;;;;;;;AC9CA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;AAGA,iE;;;;;;;;;;;;;;AC3EA;AAAA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;;;AAGA,mE;;;;;;;;;;;;;;;;;;;;AC3EA;AAAA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACiD;AACjD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,oBAAoB;AACpB;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;;AAEA;;AAEA,oBAAoB;AACpB;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,mEAAmE,aAAa;AAChF;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4IAAkD,UAAU,mBAAmB;AAC/E;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,uE;;;;;;;;;;;;;;;;;;AChKA;AAAA,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,8HAAqD,2CAA2C;AAChG;AACA,KAAK;;AAEL,sFAA8C,2CAA2C;AACzF;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;AAGA,iE;;;;;;;;;;;;;;;;;;ACxEA;AAAA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,8CAA8C,iBAAiB,qBAAqB,oCAAoC,6DAA6D,oBAAoB,EAAE,eAAe;;AAE1N;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,iIAAuC;AACvC,iGAAyD,wCAAwC,2BAA2B;AAC5H,OAAO,EAAE;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,qE;;;;;;;;;;;AC/BA;AACA;AACA;;;;;;;;;;;;ACFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,YAAY;AACZ,YAAY;AACZ;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;;AAEA,uBAAuB,kBAAkB;AACzC;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA,mCAAmC;AACnC;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,MAAM;AAClB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,MAAM;AAClB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,mBAAmB;AACpC;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,6DAA6D;AAC3E;AACA,YAAY,sBAAsB;AAClC,YAAY,gBAAgB;AAC5B,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA,yBAAyB,QAAQ;AACjC;AACA;;AAEA;;AAEA;AACA,2CAA2C,OAAO;AAClD;;AAEA;AACA,oCAAoC,OAAO,uBAAuB,OAAO;AACzE;;AAEA,mCAAmC,OAAO,uBAAuB,OAAO;AACxE;;;;;;;;;;;;;ACzaA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA,gCAAgC,QAAQ;AACxC;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,yBAAyB,MAAM;AAC/B;AACA,GAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA,iC;;;;;;;;;;;;ACrEA;;AAEA;;AAEA,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA,6B","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 50);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 37d608d85619768083a7","module.exports = require(\"react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"prop-types\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"prop-types\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"mobx-react\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mobx-react\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"mobx\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mobx\"\n// module id = 3\n// module chunks = 0","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport EventEmitter from 'events';\n\nconst eventMatchReg = /^on[A-Z]/;\nfunction getEventMethodsProps(instance){\n    let methods = Object.getOwnPropertyNames(instance)\n        .filter((prop) => {\n            return eventMatchReg.test(prop)\n                && typeof instance[prop] === 'function';\n        });\n\n    let instancePrototype = Object.getPrototypeOf(instance);\n    if(instancePrototype !== Object.prototype) {\n        methods = methods.concat(getEventMethodsProps(instancePrototype));\n    }\n\n    return methods\n}\n\n\nexport default class Base extends Component {\n    constructor(props, context){\n        super(props, context);\n\n        this.__eventNames = {};\n\n        this.__bindFunctions();\n    }\n\n    __bindFunctions(){\n        let props = getEventMethodsProps(this);\n        for(let prop of props){\n            if(!this[prop].funcBinded){\n                this[prop] = this[prop].bind(this);\n                this[prop].funcBinded = true;\n            }\n        }\n    }\n\n    on(eventName, fn){\n        if(typeof fn !== 'function') throw new Error('fn should be a function');\n\n        if(!this.__eventNames[eventName]){\n            this.__eventNames[eventName] = [fn];\n        } else {\n            this.__eventNames[eventName].push(fn);\n        }\n\n        return this.context.$eventBus.addListener(eventName, fn);\n    }\n\n    emit(eventName, ...args){\n        return this.context.$eventBus.emit(eventName, ...args);\n    }\n\n    off(eventName, fn){\n        let events = this.__eventNames[eventName];\n        if(events){\n            let index = events.indexOf(fn);\n\n            if(index >= 0) {\n                this.context.$eventBus.removeListener(eventName, fn);\n\n                events.splice(index, 1);\n\n                if(!events.length) {\n                    delete this.__eventNames[eventName];\n                }\n            } else {\n                console.warn('event: ' + eventName + ' is not registered in ' + this._reactInternalInstance.getName() + ' Component');\n            }\n\n            return true;\n        } else {\n            console.warn('event: ' + eventName + ' is not registered in ' + this.constructor.name + ' Component');\n\n            return false;\n        }\n    }\n\n    componentWillUnmount(){\n        for(let eventName in this.__eventNames){\n            if(this.__eventNames.hasOwnProperty(eventName)){\n                for(let fn of this.__eventNames[eventName]){\n                    this.off(eventName, fn);\n                }\n            }\n        }\n    }\n}\nBase.contextTypes = {\n    $eventBus: PropTypes.instanceOf(EventEmitter)\n};\n\n\n\n// WEBPACK FOOTER //\n// ./common/pages/Base.jsx","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/warning/warning.js\n// module id = 5\n// module chunks = 0","module.exports = require(\"react-router-dom\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-router-dom\"\n// module id = 6\n// module chunks = 0","module.exports = {\n\t\"application\": {\n\t\t\"version\": {\n\t\t\t\"css\": \"\",\n\t\t\t\"js\": \"\"\n\t\t},\n\t\t\"debugName\": \"test\"\n\t},\n\t\"serverName\": \"isomophic-react-redux-starter\"\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/config/config.json\n// module id = 7\n// module chunks = 0","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 8\n// module chunks = 0","import {\n    observable,\n    extendObservable,\n    action,\n    runInAction\n} from 'mobx';\n\nclass TodoModel {\n    id;\n    @observable title = '';\n    @observable finished = false;\n\n\tconstructor(data) {\n        runInAction('initialize TodoModel', () => {\n            extendObservable(this, data);\n        });\n\t}\n\n    @action\n    setFinished(finished) {\n        this.finished = finished\n    }\n\n    static fromJS(object) {\n        return new TodoModel(object);\n    }\n}\n\nexport default TodoModel;\n\n\n\n// WEBPACK FOOTER //\n// ./common/models/TodoModel.js","'use strict';\n\nexports.__esModule = true;\nvar addLeadingSlash = exports.addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar stripLeadingSlash = exports.stripLeadingSlash = function stripLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path.substr(1) : path;\n};\n\nvar stripPrefix = exports.stripPrefix = function stripPrefix(path, prefix) {\n  return path.indexOf(prefix) === 0 ? path.substr(prefix.length) : path;\n};\n\nvar stripTrailingSlash = exports.stripTrailingSlash = function stripTrailingSlash(path) {\n  return path.charAt(path.length - 1) === '/' ? path.slice(0, -1) : path;\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = path || '/';\n  var search = '';\n  var hash = '';\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  pathname = decodeURI(pathname);\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  var pathname = location.pathname,\n      search = location.search,\n      hash = location.hash;\n\n\n  var path = encodeURI(pathname || '/');\n\n  if (search && search !== '?') path += search.charAt(0) === '?' ? search : '?' + search;\n\n  if (hash && hash !== '#') path += hash.charAt(0) === '#' ? hash : '#' + hash;\n\n  return path;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/PathUtils.js\n// module id = 10\n// module chunks = 0","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport warning from 'warning';\nimport invariant from 'invariant';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The public API for putting history on context.\n */\n\nvar Router = function (_React$Component) {\n  _inherits(Router, _React$Component);\n\n  function Router() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Router);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      match: _this.computeMatch(_this.props.history.location.pathname)\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Router.prototype.getChildContext = function getChildContext() {\n    return {\n      router: _extends({}, this.context.router, {\n        history: this.props.history,\n        route: {\n          location: this.props.history.location,\n          match: this.state.match\n        }\n      })\n    };\n  };\n\n  Router.prototype.computeMatch = function computeMatch(pathname) {\n    return {\n      path: '/',\n      url: '/',\n      params: {},\n      isExact: pathname === '/'\n    };\n  };\n\n  Router.prototype.componentWillMount = function componentWillMount() {\n    var _this2 = this;\n\n    var _props = this.props,\n        children = _props.children,\n        history = _props.history;\n\n\n    invariant(children == null || React.Children.count(children) === 1, 'A <Router> may have only one child element');\n\n    // Do this here so we can setState when a <Redirect> changes the\n    // location in componentWillMount. This happens e.g. when doing\n    // server rendering using a <StaticRouter>.\n    this.unlisten = history.listen(function () {\n      _this2.setState({\n        match: _this2.computeMatch(history.location.pathname)\n      });\n    });\n  };\n\n  Router.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    warning(this.props.history === nextProps.history, 'You cannot change <Router history>');\n  };\n\n  Router.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.unlisten();\n  };\n\n  Router.prototype.render = function render() {\n    var children = this.props.children;\n\n    return children ? React.Children.only(children) : null;\n  };\n\n  return Router;\n}(React.Component);\n\nRouter.propTypes = {\n  history: PropTypes.object.isRequired,\n  children: PropTypes.node\n};\nRouter.contextTypes = {\n  router: PropTypes.object\n};\nRouter.childContextTypes = {\n  router: PropTypes.object.isRequired\n};\n\n\nexport default Router;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/Router.js\n// module id = 11\n// module chunks = 0","import pathToRegexp from 'path-to-regexp';\n\nvar patternCache = {};\nvar cacheLimit = 10000;\nvar cacheCount = 0;\n\nvar compilePath = function compilePath(pattern, options) {\n  var cacheKey = '' + options.end + options.strict;\n  var cache = patternCache[cacheKey] || (patternCache[cacheKey] = {});\n\n  if (cache[pattern]) return cache[pattern];\n\n  var keys = [];\n  var re = pathToRegexp(pattern, keys, options);\n  var compiledPattern = { re: re, keys: keys };\n\n  if (cacheCount < cacheLimit) {\n    cache[pattern] = compiledPattern;\n    cacheCount++;\n  }\n\n  return compiledPattern;\n};\n\n/**\n * Public API for matching a URL pathname to a path pattern.\n */\nvar matchPath = function matchPath(pathname) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof options === 'string') options = { path: options };\n\n  var _options = options,\n      _options$path = _options.path,\n      path = _options$path === undefined ? '/' : _options$path,\n      _options$exact = _options.exact,\n      exact = _options$exact === undefined ? false : _options$exact,\n      _options$strict = _options.strict,\n      strict = _options$strict === undefined ? false : _options$strict;\n\n  var _compilePath = compilePath(path, { end: exact, strict: strict }),\n      re = _compilePath.re,\n      keys = _compilePath.keys;\n\n  var match = re.exec(pathname);\n\n  if (!match) return null;\n\n  var url = match[0],\n      values = match.slice(1);\n\n  var isExact = pathname === url;\n\n  if (exact && !isExact) return null;\n\n  return {\n    path: path, // the path pattern used to match\n    url: path === '/' && url === '' ? '/' : url, // the matched portion of the URL\n    isExact: isExact, // whether or not we matched exactly\n    params: keys.reduce(function (memo, key, index) {\n      memo[key.name] = values[index];\n      return memo;\n    }, {})\n  };\n};\n\nexport default matchPath;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/matchPath.js\n// module id = 12\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 13\n// module chunks = 0","import ejs from 'ejs';\nimport React from 'react';\nimport { renderToString } from 'react-dom/server';\nimport { Provider, useStaticRendering } from 'mobx-react'\nimport { jsObj as safeJSON } from 'secure-filters';\nimport fs from 'fs';\n\nimport App from '../../common/App.jsx';\nimport config from '../config/config.json';\n\nuseStaticRendering(true);\n\nconst defaultTemplate = fs.readFileSync(__dirname + '/../views/index.html', 'utf8');\nconst reg = /-(\\w+)\\./gi;\n\nexport function getDefaultJSVersion(name) {\n    let webpackAssets = fs.readFileSync(__dirname + '/../../webpack-assets.json', 'utf8');\n\n    try {\n        webpackAssets = JSON.parse(webpackAssets);\n    } catch (ex) {\n        console.log('webpack-assets.json parsed error');\n        webpackAssets = {};\n    }\n\n    let match = reg.exec(webpackAssets[name]);\n\n    return match && match[1] || '';\n}\n\nexport default function reactRender(middlewareConfig = {}) {\n    return function (req, res, next) {\n        res.renderReactHTML = function (opts = {}) {\n            let {\n                template = '',\n                component = '',\n                store = {},\n                locals = {},\n                pageConfig = {},\n                needTransform = true\n            } = opts;\n            let html = '';\n            pageConfig = Object.assign(typeof middlewareConfig.appConfig === 'object'\n                ? middlewareConfig.appConfig : {}, pageConfig);\n\n            try {\n                html = renderToString((\n                    <Provider store={store}>\n                        <App appconfig={pageConfig}>\n                            {component}\n                        </App>\n                    </Provider>\n                ));\n            } catch (ex) {\n                html = 'internal server error: \\n' + ex.message;\n                console.error(ex.stack);\n            }\n\n            let debug = req.query.debug && (req.query.debug === config.application.debugName);\n            let version = config.application.version;\n            let jsVersion = '';\n            // prefer config version, useful when using CDN config\n            if (process.env.NODE_ENV === 'production') {\n                jsVersion = version && version.js;\n            } else {\n                jsVersion = getDefaultJSVersion(locals.appName || 'index');\n            }\n            template = template || middlewareConfig.defaultTemplate || defaultTemplate;\n\n            let finalLocals = Object.assign({\n                html,\n                state: safeJSON(store),\n                appName: 'index',\n                title: '',\n                test: process.env.NODE_ENV !== 'production',\n                debug,\n                appConfig: safeJSON(pageConfig),\n                version: {\n                    js: jsVersion,\n                    css: version && version.css\n                }\n            }, res.locals, locals);\n\n            let pageStr = ejs.render(template, finalLocals, {\n                compileDebug: false\n            });\n\n            res.status(200).send(pageStr);\n        };\n\n        next();\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/renderReactMiddleware.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport EventEmitter from 'events';\nimport { useStrict } from 'mobx';\n\nuseStrict(true);\n\n\nif(process.env.NODE_ENV !== 'production' && process.browser){\n    var DevTools = require('mobx-react-devtools').default;\n}\n\nlet mediator = new EventEmitter();\n\nexport default class App extends Component {\n    static defaultProps = {\n        appConfig: null\n    };\n    static propTypes = {\n        appConfig: PropTypes.object\n    };\n    static childContextTypes = {\n        $eventBus: PropTypes.instanceOf(EventEmitter),\n        $appConfig: PropTypes.object\n    };\n\n    constructor(props, context) {\n        super(props, context);\n\n        this.state = {\n            devTools: null\n        };\n    }\n\n    getChildContext(){\n        return {\n            $eventBus: mediator,\n            $appConfig: this.props.appConfig\n        }\n    }\n\n    componentDidMount(){\n        if(DevTools) {\n            this.setState({\n                devTools: <DevTools position={ { left: 0, bottom: 0 } }/>\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                { this.props.children }\n                { this.state.devTools }\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/App.jsx","import React from 'react';\nimport { Route } from 'react-router-dom';\n// import App from './pages/App/App';\nimport Vote from './pages/App/Vote.jsx';\nimport About from './pages/App/About';\n\nconst routesConfig = [\n    // {\n    //     path: '/',\n    //     component: App\n    // },\n    {\n        path: '/vote',\n        component: Vote\n    },\n    {\n        path: '/about',\n        component: About\n    }\n];\n\nexport default routesConfig;\n\n\n\n// WEBPACK FOOTER //\n// ./common/routes.js","import {\n    observable,\n    action,\n    runInAction\n} from 'mobx';\n\nclass TimerStore {\n    @observable timer = 0;\n\n    constructor() {\n        \n    }\n\n    @action\n    startTimer(){\n        setInterval(action('startTimer', () => {\n            this.timer += 1;\n        }), 1000);\n    }\n\n    @action\n    resetTimer() {\n        this.timer = 0;\n    }\n}\n\nexport default TimerStore;\n\n\n\n// WEBPACK FOOTER //\n// ./common/stores/TimerStore.js","import {\n    observable,\n    computed,\n    extendObservable,\n    action,\n    runInAction,\n    asFlat\n} from 'mobx';\n\nimport TodoModel from '../models/TodoModel';\n\nclass TodoStore {\n    // only the children of the value becomes observable\n    @observable.shallow todos = [];\n\n    @computed get unfinishedTodoCount() {\n        return this.todos.filter(todo => !todo.finished).length;\n    }\n\n    constructor(state = {}) {\n        // required in strict mode to be allowed to update state:\n        runInAction('initialize TodoStore', () => {\n            extendObservable(this, state);\n        });\n    }\n\n    @action\n    addTodo(todo) {\n        todo && this.todos.push(todo);\n    }\n\n    @action\n    removeTodo(index){\n        this.todos.splice(index, 1);\n    }\n\n    static fromJS(state) {\n        if(state && state.todos) {\n            let todoStore = new TodoStore({\n                todos: state.todos.map(item => TodoModel.fromJS(item))\n            });\n            return todoStore;\n        }\n    }\n}\n\nexport default TodoStore;\n\n\n\n// WEBPACK FOOTER //\n// ./common/stores/TodoStore.js","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar NODE_ENV = process.env.NODE_ENV;\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/invariant/invariant.js\n// module id = 19\n// module chunks = 0","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport warning from 'warning';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport matchPath from './matchPath';\n\n/**\n * The public API for matching a single path and rendering.\n */\n\nvar Route = function (_React$Component) {\n  _inherits(Route, _React$Component);\n\n  function Route() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Route);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      match: _this.computeMatch(_this.props, _this.context.router)\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Route.prototype.getChildContext = function getChildContext() {\n    return {\n      router: _extends({}, this.context.router, {\n        route: {\n          location: this.props.location || this.context.router.route.location,\n          match: this.state.match\n        }\n      })\n    };\n  };\n\n  Route.prototype.computeMatch = function computeMatch(_ref, _ref2) {\n    var computedMatch = _ref.computedMatch,\n        location = _ref.location,\n        path = _ref.path,\n        strict = _ref.strict,\n        exact = _ref.exact;\n    var route = _ref2.route;\n\n    if (computedMatch) return computedMatch; // <Switch> already computed the match for us\n\n    var pathname = (location || route.location).pathname;\n\n    return path ? matchPath(pathname, { path: path, strict: strict, exact: exact }) : route.match;\n  };\n\n  Route.prototype.componentWillMount = function componentWillMount() {\n    var _props = this.props,\n        component = _props.component,\n        render = _props.render,\n        children = _props.children;\n\n\n    warning(!(component && render), 'You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored');\n\n    warning(!(component && children), 'You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored');\n\n    warning(!(render && children), 'You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored');\n  };\n\n  Route.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps, nextContext) {\n    warning(!(nextProps.location && !this.props.location), '<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.');\n\n    warning(!(!nextProps.location && this.props.location), '<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.');\n\n    this.setState({\n      match: this.computeMatch(nextProps, nextContext.router)\n    });\n  };\n\n  Route.prototype.render = function render() {\n    var match = this.state.match;\n    var _props2 = this.props,\n        children = _props2.children,\n        component = _props2.component,\n        render = _props2.render;\n    var _context$router = this.context.router,\n        history = _context$router.history,\n        route = _context$router.route,\n        staticContext = _context$router.staticContext;\n\n    var location = this.props.location || route.location;\n    var props = { match: match, location: location, history: history, staticContext: staticContext };\n\n    return component ? // component prop gets first priority, only called if there's a match\n    match ? React.createElement(component, props) : null : render ? // render prop is next, only called if there's a match\n    match ? render(props) : null : children ? // children come last, always called\n    typeof children === 'function' ? children(props) : !Array.isArray(children) || children.length ? // Preact defaults to empty children array\n    React.Children.only(children) : null : null;\n  };\n\n  return Route;\n}(React.Component);\n\nRoute.propTypes = {\n  computedMatch: PropTypes.object, // private, from <Switch>\n  path: PropTypes.string,\n  exact: PropTypes.bool,\n  strict: PropTypes.bool,\n  component: PropTypes.func,\n  render: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  location: PropTypes.object\n};\nRoute.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.object.isRequired,\n    route: PropTypes.object.isRequired,\n    staticContext: PropTypes.object\n  })\n};\nRoute.childContextTypes = {\n  router: PropTypes.object.isRequired\n};\n\n\nexport default Route;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/Route.js\n// module id = 20\n// module chunks = 0","import _MemoryRouter from './MemoryRouter';\nexport { _MemoryRouter as MemoryRouter };\nimport _Prompt from './Prompt';\nexport { _Prompt as Prompt };\nimport _Redirect from './Redirect';\nexport { _Redirect as Redirect };\nimport _Route from './Route';\nexport { _Route as Route };\nimport _Router from './Router';\nexport { _Router as Router };\nimport _StaticRouter from './StaticRouter';\nexport { _StaticRouter as StaticRouter };\nimport _Switch from './Switch';\nexport { _Switch as Switch };\nimport _matchPath from './matchPath';\nexport { _matchPath as matchPath };\nimport _withRouter from './withRouter';\nexport { _withRouter as withRouter };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/index.js\n// module id = 21\n// module chunks = 0","module.exports = require(\"ejs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ejs\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"events\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"events\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"react-dom/server\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"react-dom/server\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"secure-filters\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"secure-filters\"\n// module id = 25\n// module chunks = 0","import { Router } from 'express';\n\nlet router = new Router();\n\nrouter.post('/ajax', function(req, res, next){\n    if(error) {\n        next();\n    } else {\n        res.send('test')\n    }\n});\n\nexport default router;\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/apis/index.js","\nexport default function allowCrossDomain(req, res, next) {\n    let allowedOrigins = [\n        'http://www.test.com'\n    ];\n    let origin = req.headers.origin;\n    if(allowedOrigins.indexOf(origin) > -1){\n        res.header('Access-Control-Allow-Origin', origin);\n    }\n    next();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/allowCrossDomain.js","import React from 'react';\nimport { renderToString } from 'react-dom/server';\n// import {createMemoryHistory, match, RouterContext} from 'react-router';\nimport { matchPath } from 'react-router-dom'\nimport { StaticRouter } from 'react-router'\nimport { Provider, useStaticRendering } from 'mobx-react';\n\nimport configureStore from '../../common/stores/spaStores.js';\nimport preRenderMiddleware from '../utils/preRender';\nimport ejs from 'ejs';\nimport config from '../config/config.json';\nimport { getDefaultJSVersion } from './renderReactMiddleware';\nimport App from '../../common/AppForSpa';\nimport { jsObj as safeJSON } from 'secure-filters';\nimport fs from 'fs';\nimport routes from '../../common/routes.js';\n\nconst defaultTemplate = fs.readFileSync(__dirname + '/../views/index.html', 'utf8');\n\nuseStaticRendering(true);\n\n// todo: to be migrated to react router v4\nexport default async function renderMatch(req, res) {\n    const stores = configureStore({\n        commonStore: {\n            user: {\n                name: 'test'\n            }\n        }\n    });\n    let appConfig = {\n        time: Date.now()\n    };\n\n    let component = null;\n\n    routes.some((route) => {\n        const match = matchPath(req.baseUrl, route);\n        if (match && match.isExact) component = route.component;\n\n        return match && match.isExact;\n    });\n\n    if (!component) {\n        res.redirect('/');;\n        return;\n    }\n\n    let debug = req.query.debug && (req.query.debug === config.application.debugName);\n    let version = config.application.version;\n    let jsVersion = '';\n    // prefer config version, useful when using CDN config\n    if (process.env.NODE_ENV === 'production') {\n        jsVersion = version && version.js;\n    } else {\n        jsVersion = getDefaultJSVersion('app');\n    }\n    let componentHTML = '';\n    let errorMsg = '';\n    let context = {};\n\n    try {\n        await preRenderMiddleware(stores, {\n            component,\n            // location,\n            // params\n        }, appConfig, req);\n\n        componentHTML = renderToString(\n            <StaticRouter\n                location={req.originalUrl}\n                context={context}>\n                <Provider { ...stores }>\n                    <App appConfig={appConfig}/>\n                </Provider>\n            </StaticRouter>\n        );\n\n    } catch (ex) {\n        errorMsg = ex.stack;\n        console.log(ex.stack)\n    }\n\n    if (context.url) {\n        res.writeHead(301, {\n            Location: context.url\n        })\n        return res.end();\n    }\n\n    let pageStr = ejs.render(defaultTemplate, Object.assign({\n        errorMsg,\n        html: componentHTML,\n        state: safeJSON(stores),\n        appName: 'app',\n        title: '',\n        test: process.env.NODE_ENV !== 'production',\n        debug: debug,\n        appConfig: safeJSON(appConfig),\n        version: {\n            js: jsVersion,\n            css: version && version.css\n        }\n    }, {}), {\n            compileDebug: false\n        });\n\n    res.status(200).send(pageStr);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/middlewares/spaRenderMatch.jsx","import { Router } from 'express';\nimport fs from 'fs';\n\nlet router = new Router();\n\nimport Timer from '../controllers/Timer';\nimport Todo from '../controllers/Todo';\n\n\n/**\n * 首页请求\n */\nrouter.get('/', Timer);\nrouter.get('/todo', Todo);\n\n\n/**\n * 静态资源\n */\nlet content = fs.readFileSync(__dirname + '/../../client/js/utils/sw.js', 'utf8');\n\nrouter.get('/sw.js', async function(req, res){\n    res.set('Content-Type', 'application/javascript');\n    res.send(content);\n});\n\nexport default router;\n\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 30\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 31\n// module chunks = 0","module.exports = require(\"cookie-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cookie-parser\"\n// module id = 32\n// module chunks = 0","module.exports = require(\"csurf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"csurf\"\n// module id = 33\n// module chunks = 0","module.exports = require(\"express-session\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express-session\"\n// module id = 34\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 35\n// module chunks = 0","module.exports = require(\"http\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 36\n// module chunks = 0","module.exports = require(\"morgan\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"morgan\"\n// module id = 37\n// module chunks = 0","import React from 'react';\nimport { Switch, Route } from 'react-router'\n\nimport App from './App';\nimport routes from './routes.js';\n\nexport default class AppForSpa extends App {\n    constructor(props, context){\n        super(props, context);\n    }\n\n    render(){\n        return (\n            <div>\n                <Switch>\n                    {\n                        routes.map((route) => {\n                            return (\n                                <Route {...route} key={route.path} />\n                            );\n                        })\n                    }\n                </Switch>\n                {this.state.devTools}\n            </div>\n        );\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/AppForSpa.jsx","import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {observer, inject} from 'mobx-react';\nimport Base from '../../pages/Base';\n\n@observer\nclass Todo extends Base {\n    constructor(props, context) {\n        super(props, context);\n\n        // this.onChange = this.onChange.bind(this);\n        // this.removeTodo = this.removeTodo.bind(this);\n    }\n\n    onChange() {\n        let {todo} = this.props;\n\n        todo.setFinished(!todo.finished)\n    }\n\n    onRemoveTodo(e){\n        this.props.removeTodo(e, this.props.index);\n    }\n\n    render() {\n        let {todo, index} = this.props;\n\n        return (\n            <li>\n                <input\n                    type=\"checkbox\"\n                    checked={todo.finished}\n                    onChange={ this.onChange }\n                />{todo.title}\n                <button onClick={ this.props.addTodo }>add</button>\n                <button onClick={ this.onRemoveTodo }>remove</button>\n            </li>\n        );\n    }\n}\n\nexport default Todo;\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/todo/Todo.jsx","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport Base from '../../pages/Base';\n\nimport Todo from './Todo';\nimport TodoModel from '../../models/TodoModel.js';\n\n@observer\nclass TodoList extends Base {\n    constructor(props, context) {\n        super(props, context);\n\n        // this.addTodo = this.addTodo.bind(this);\n        // this.removeTodo = this.removeTodo.bind(this);\n    }\n\n    onAddTodo(e) {\n        e.preventDefault();\n\n        let { todoList } = this.props;\n\n        todoList.addTodo(new TodoModel({\n            id: todoList.todos.length,\n            title: 'some text' + todoList.todos.length\n        }));\n    }\n\n    onRemoveTodo(e, index){\n        e.preventDefault();\n\n        let { todoList } = this.props;\n\n        todoList.removeTodo(index);\n    }\n\n    render() {\n        let { todoList } = this.props;\n\n        return (\n            <div>\n                <ul>\n                    {todoList.todos.map((todo, index) => {\n                        return (\n                            <Todo todo={todo}\n                        index={ index }\n                            key={todo.id} \n                            addTodo={this.onAddTodo}\n                            removeTodo={ this.onRemoveTodo }/>\n                        );\n                    })}\n                </ul>\n                Tasks left: {todoList.unfinishedTodoCount}\n            </div>\n        );\n    }\n}\n\nexport default TodoList;\n\n\n\n// WEBPACK FOOTER //\n// ./common/components/todo/TodoList.jsx","\nexport default {\n    getVote(opts, req){\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve({\n                    data: {\n                        message: 123\n                    }\n                });\n            }, 500);\n        });\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./common/fetchList/serverFetch.js","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom'\nimport { observer, inject } from 'mobx-react';\n\n\n@inject('commonStore')\n@observer\nclass About extends Component {\n    static pageConfig = {\n        pageId: 'About'\n    };\n\n    render() {\n        return (\n            <div className=\"about\">\n                this is about page\n                <Link to=\"/vote?debug=test\">vote</Link>\n                <br/>\n                userName: {this.props.commonStore.user.name}\n            </div>\n        );\n    }\n}\n\nexport default About;\n\n\n\n// WEBPACK FOOTER //\n// ./common/pages/App/About.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { observer, inject } from 'mobx-react';\nimport { Link } from 'react-router-dom'\n\nimport connectDataFetchers from '../../utils/connectDataFetchers';\n\n\n@connectDataFetchers(['VoteStore'])\n@inject('VoteStore')\n@observer\nclass Vote extends Component {\n    static pageConfig = {\n        pageId: 'Vote'\n    };\n\n    componentDidMount(){\n        console.log('vote did mount');\n    }\n\n    render() {\n        return (\n            <div className=\"vote\">\n                this is vote\n                <Link to=\"/about?debug=test\">about</Link>\n                <Link to=\"/test\">test</Link>\n                message: { this.props.VoteStore.message }\n            </div>\n        );\n    }\n}\n\nexport default Vote;\n\n\n\n// WEBPACK FOOTER //\n// ./common/pages/App/Vote.jsx","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport Base from '../Base';\n\n@inject('store')\n@observer\nclass TimerPage extends Base {\n    constructor(props, context){\n        super(props, context);\n    }\n\n    componentDidMount(){\n        this.props.store.startTimer();\n    }\n\n    render() {\n        return (\n            <div>\n                <button onClick={this.onReset}>\n                    Seconds passed: {this.props.store.timer}\n                </button>\n            </div>\n        );\n    }\n\n    onReset(){\n        this.props.store.resetTimer();\n    }\n}\n\nexport default TimerPage;\n\n\n\n// WEBPACK FOOTER //\n// ./common/pages/timer/TimerPage.jsx","import React, { Component } from 'react';\nimport { observer, inject } from 'mobx-react';\nimport Base from '../Base';\n\nimport TodoList from '../../components/todo/TodoList';\n\n@inject('store')\n@observer\nclass TodoPage extends Base {\n    constructor(props, context){\n        super(props, context);\n    }\n\n    render(){\n        return (\n            <TodoList todoList={ this.props.store }/>\n        );\n    }\n}\n\nexport default TodoPage;\n\n\n\n// WEBPACK FOOTER //\n// ./common/pages/todo/TodoPage.jsx","import {\n    observable,\n    action,\n    runInAction,\n    extendObservable\n} from 'mobx';\n\nclass CommonStore {\n    constructor(state = {}) {\n        runInAction('CommonStore init', () => {\n            extendObservable(this, state)\n        });\n    }\n}\n\nexport default CommonStore;\n\n\n// WEBPACK FOOTER //\n// ./common/stores/CommonStore.js","import {\n    observable,\n    action,\n    runInAction,\n    extendObservable\n} from 'mobx';\n\nimport fetchList from '../fetchList';\n\nexport default class VoteStore {\n    @observable message = '';\n\n    constructor(state = {}){\n        runInAction('initialize VoteStore', () => {\n            extendObservable(this, state);\n        });\n    }\n\n    @action\n    loadData(opts, req){\n        console.log('loadData...');\n\n        return fetchList.getVote(opts, req).then(action('update state after fetching data', (resp) => {\n            this.message = resp.data.message;\n        }));\n    }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./common/stores/VoteStore.js","import CommonStore from './CommonStore';\nimport TimerStore from './TimerStore';\nimport TodoStore from './TodoStore';\nimport VoteStore from './VoteStore';\n\nfunction initStore(Store, state){\n    return Store.fromJS ? Store.fromJS(state) : new Store(state);\n}\n\nexport default function configureStore(state = {}){\n    return {\n        commonStore: initStore(CommonStore, state.commonStore),\n        timerStore: initStore(TimerStore, state.timerStore),\n        todoStore: initStore(TodoStore, state.todoStore),\n        VoteStore: initStore(VoteStore, state.VoteStore)\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/stores/spaStores.js","import React, {\n    PropTypes\n} from 'react';\nimport { inject, observer } from 'mobx-react';\n// import { action } from 'mobx';\n\nimport Base from '../pages/Base';\n\nlet IS_FIRST_MOUNT_AFTER_LOAD = true;\nif (process.browser) {\n    var FIRST_PAGE_ID = window.__APP_CONFIG__.pageId;\n}\n\n\nexport default function connectDataFetchers(storeKeys = [], cache) {\n    return function (Page) {\n        if (process.browser) {\n            if (!Page.pageConfig) {\n                console.error(`Page Component static propery pageConfig.pageId required!`);\n            } else {\n                IS_FIRST_MOUNT_AFTER_LOAD = Page.pageConfig.pageId === FIRST_PAGE_ID;\n            }\n        }\n\n        class DataFetchersWrapper extends Base {\n            static propTypes = {\n                params: PropTypes.object,\n                location: PropTypes.shape({\n                    pathname: PropTypes.string.required,\n                    search: PropTypes.string,\n                    query: PropTypes.string.object\n                }).isRequired\n            };\n\n            static contextTypes = {\n                $appConfig: PropTypes.object,\n                mobxStores: PropTypes.object\n            };\n\n            static OriginalPage = Page;\n\n            static fetchData({\n                stores,\n                location,\n                params,\n                appConfig,\n                pageConfig\n            }, req) {\n                return Promise.all(\n                    storeKeys.map(storeKey => {\n                        let currentStore = stores[storeKey];\n\n                        return currentStore && currentStore.loadData && currentStore.loadData({\n                            location,\n                            params,\n                            appConfig,\n                            pageConfig\n                        })\n                    }, req));\n            }\n\n            shouldComponentUpdate(nextProps) {\n                return this.props !== nextProps;\n            }\n\n            componentDidUpdate(prevProps) {\n                const {\n                    location\n                } = this.props;\n                const {\n                    location: prevLocation\n                } = prevProps;\n\n                const isUrlChanged = (location.pathname !== prevLocation.pathname) ||\n                    (location.search.slice(1) !== prevLocation.search.slice(1));\n\n                if (isUrlChanged) {\n                    this._fetchDataOnClient();\n                }\n            }\n\n            componentDidMount() {\n                if (!cache) {\n                    if (!IS_FIRST_MOUNT_AFTER_LOAD) {\n                        this._fetchDataOnClient();\n                    }\n\n                    IS_FIRST_MOUNT_AFTER_LOAD = false;\n                } else {\n                    if (!IS_FIRST_MOUNT_AFTER_LOAD && !Page.DATA_LOADED) {\n                        this._fetchDataOnClient();\n                    }\n\n                    Page.DATA_LOADED = true;\n                    IS_FIRST_MOUNT_AFTER_LOAD = false;\n                }\n            }\n\n            _fetchDataOnClient() {\n                this.constructor.fetchData({\n                    stores: this.context.mobxStores,\n                    params: this.props.params,\n                    location: this.props.location,\n                    appConfig: this.context.$appConfig\n                });\n            }\n\n            render() {\n                return ( \n                    <Page {...this.props }/>\n                );\n            }\n        }\n\n        return DataFetchersWrapper;\n    };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./common/utils/connectDataFetchers.jsx","import http from 'http';\nimport express from 'express';\nimport compress from 'compression';\nimport logger from 'morgan';\nimport cookieParser from 'cookie-parser';\nimport bodyParser from 'body-parser';\nimport session from 'express-session';\nimport csurf from 'csurf';\nimport config from './config/config.json';\nimport routes from './routes/index';\nimport apis from './apis/index';\nimport allowCrossDomain from './middlewares/allowCrossDomain'\nimport reactRender from './middlewares/renderReactMiddleware';\nimport helmet from 'helmet';\n// import socket from './sockets/socket';\nimport spaRenderMatch from './middlewares/spaRenderMatch.jsx';\n\nlet app = express();\n\napp.set('host', process.env.IP || '127.0.0.1');\napp.set('port', process.env.PORT || 3000);\napp.disable('x-powered-by');\n\napp.use(helmet.contentSecurityPolicy({\n    directives: {\n        defaultSrc: [\"'self'\", 'default.com'],\n        styleSrc: [\"'self'\", 'maxcdn.bootstrapcdn.com'],\n        scriptSrc: [\"'self'\", 'maxcdn.bootstrapcdn.com', \"'unsafe-inline'\", \"'unsafe-eval'\"],\n        imgSrc: [\"'self'\", 'img.com', 'data:'],\n        sandbox: ['allow-forms', 'allow-scripts', 'allow-same-origin'],\n        reportUri: '/report'\n    }\n}))\napp.use(helmet.frameguard());\napp.use(helmet.noSniff());\napp.use(helmet.xssFilter());\napp.use(helmet.hsts());\napp.use(compress());\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(cookieParser());\napp.use(session({\n    resave: true,\n    secret: 'mySecretCookieSalt',\n    key: 'myCookieSessionId',\n    saveUninitialized: true,\n    cookie: {\n        httpOnly: true,\n    }\n}));\n\n// app.use(favicon(__dirname + '/../public/favicon.ico'));\napp.use('/static', express.static(__dirname + '/../public', {\n    maxAge: 86400000\n}));\n\n// if(process.env.NODE_ENV !== 'production'){\n//     let webpack = require('webpack');\n//     let config = require('../create-webpack.config')(true);\n//     let webpackDevMiddleware = require('webpack-dev-middleware');\n//     let webpackHotMiddleware = require('webpack-hot-middleware');\n//     let compiler = webpack(config);\n//     app.use(webpackDevMiddleware(compiler, { noInfo: true, publicPath: config.output.publicPath }));\n//     app.use(webpackHotMiddleware(compiler));\n// }\n\napp.use(allowCrossDomain);\n\napp.use(csurf());\napp.use(function (req, res, next) {\n    res.locals.csrftoken = req.csrfToken();\n    next();\n});\napp.use(reactRender());\n\napp.use('/api', apis);\napp.use('/', routes);\napp.use('*', spaRenderMatch);\n\n// error handlers\n// no stacktraces leaked to user\napp.use(function(err, req, res, next) {\n    console.dir(err);\n    res.status(err.status || 500);\n    if(err.status === 500) {\n        console.error(err.stack);\n        res.json({error: 'Internal Server Error'});\n    }\n    else if(err.status === 404) {\n        res.render('error');    //render error page\n    } else {\n        res.json({error: err.message})\n    }\n});\n\n\nprocess.on('uncaughtException', err => {\n    console.error(err.message + '\\n' + err.stack);\n});\nprocess.on('unhandledRejection', (reason, p) => {\n    console.error(\"Unhandled Rejection at: Promise \", p, \" reason: \", reason);\n});\nprocess.on('rejectionHandled', (reason, p) => {\n    console.warn(\"rejectionHandled at: Promise \", p, \" reason: \", reason);\n});\n\nlet server = http.createServer(app);\n\n/* Socket.io Communication */\n// let io = require('socket.io').listen(server);\n// io.sockets.on('connection', socket);\n\nserver.listen(app.get('port'), app.get('host'), function() {\n    let { address, port } = server.address();\n    console.log(`${ config.serverName } server listening at http://%s:%s`, address, port);\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./server/app.js","import React from 'react';\nimport Page from '../../common/pages/timer/TimerPage.jsx';\nimport Store from '../../common/stores/TimerStore';\n\n\nmodule.exports = function (req, res, next) {\n    res.renderReactHTML({\n        component: <Page/>,\n        store: new Store(),\n        locals: {\n            appName: 'timer',\n            title: 'timer page'\n        },\n        pageConfig: {\n            user: 'test'\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/Timer.js","import React from 'react';\nimport Page from '../../common/pages/todo/TodoPage.jsx';\nimport Store from '../../common/stores/TodoStore';\nimport TodoModel from '../../common/models/TodoModel';\n\n\nmodule.exports = function (req, res, next) {\n    let store = new Store();\n\n    store.addTodo(new TodoModel({\n        id: 0,\n        title: \"Get Coffee\"\n    }));\n    store.addTodo(new TodoModel({\n        id: 1,\n        title: \"Write simpler code\"\n    }));\n\n    store.todos[0].setFinished(true);\n\n    res.renderReactHTML({\n        component: <Page/> ,\n        store,\n        locals: {\n            appName: 'todo',\n            title: 'todo page'\n        },\n        pageConfig: {\n            user: 'test'\n        }\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/Todo.js","function preRender(stores, { component, location, params }, appConfig = {}, req) {\n    component = component.WrappedComponent ? component.WrappedComponent : component;\n    const pageConfig = component.OriginalPage && component.OriginalPage.pageConfig;\n\n    return component.fetchData ? component.fetchData({ stores, location, params, appConfig, pageConfig }, req) : null;\n\n    let lastComponent = components[components.length - 1].WrappedComponent ? components[components.length - 1].WrappedComponent : components[components.length - 1];\n    appConfig.pageId = lastComponent && lastComponent.OriginalPage && lastComponent.OriginalPage.pageConfig && lastComponent.OriginalPage.pageConfig.pageId;\n\n    return Promise.all(promises);\n}\n\nexport default preRender;\n\n\n\n// WEBPACK FOOTER //\n// ./server/utils/preRender.js","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.createLocation = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _resolvePathname = require('resolve-pathname');\n\nvar _resolvePathname2 = _interopRequireDefault(_resolvePathname);\n\nvar _valueEqual = require('value-equal');\n\nvar _valueEqual2 = _interopRequireDefault(_valueEqual);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createLocation = exports.createLocation = function createLocation(path, state, key, currentLocation) {\n  var location = void 0;\n  if (typeof path === 'string') {\n    // Two-arg form: push(path, state)\n    location = (0, _PathUtils.parsePath)(path);\n    location.state = state;\n  } else {\n    // One-arg form: push(location)\n    location = _extends({}, path);\n\n    if (location.pathname === undefined) location.pathname = '';\n\n    if (location.search) {\n      if (location.search.charAt(0) !== '?') location.search = '?' + location.search;\n    } else {\n      location.search = '';\n    }\n\n    if (location.hash) {\n      if (location.hash.charAt(0) !== '#') location.hash = '#' + location.hash;\n    } else {\n      location.hash = '';\n    }\n\n    if (state !== undefined && location.state === undefined) location.state = state;\n  }\n\n  location.key = key;\n\n  if (currentLocation) {\n    // Resolve incomplete/relative pathname relative to current location.\n    if (!location.pathname) {\n      location.pathname = currentLocation.pathname;\n    } else if (location.pathname.charAt(0) !== '/') {\n      location.pathname = (0, _resolvePathname2.default)(location.pathname, currentLocation.pathname);\n    }\n  }\n\n  return location;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && a.key === b.key && (0, _valueEqual2.default)(a.state, b.state);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/LocationUtils.js\n// module id = 54\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar clamp = function clamp(n, lowerBound, upperBound) {\n  return Math.min(Math.max(n, lowerBound), upperBound);\n};\n\n/**\n * Creates a history object that stores locations in memory.\n */\nvar createMemoryHistory = function createMemoryHistory() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var getUserConfirmation = props.getUserConfirmation,\n      _props$initialEntries = props.initialEntries,\n      initialEntries = _props$initialEntries === undefined ? ['/'] : _props$initialEntries,\n      _props$initialIndex = props.initialIndex,\n      initialIndex = _props$initialIndex === undefined ? 0 : _props$initialIndex,\n      _props$keyLength = props.keyLength,\n      keyLength = _props$keyLength === undefined ? 6 : _props$keyLength;\n\n\n  var transitionManager = (0, _createTransitionManager2.default)();\n\n  var setState = function setState(nextState) {\n    _extends(history, nextState);\n\n    history.length = history.entries.length;\n\n    transitionManager.notifyListeners(history.location, history.action);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength);\n  };\n\n  var index = clamp(initialIndex, 0, initialEntries.length - 1);\n  var entries = initialEntries.map(function (entry) {\n    return typeof entry === 'string' ? (0, _LocationUtils.createLocation)(entry, undefined, createKey()) : (0, _LocationUtils.createLocation)(entry, undefined, entry.key || createKey());\n  });\n\n  // Public interface\n\n  var createHref = _PathUtils.createPath;\n\n  var push = function push(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to push when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'PUSH';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      var prevIndex = history.index;\n      var nextIndex = prevIndex + 1;\n\n      var nextEntries = history.entries.slice(0);\n      if (nextEntries.length > nextIndex) {\n        nextEntries.splice(nextIndex, nextEntries.length - nextIndex, location);\n      } else {\n        nextEntries.push(location);\n      }\n\n      setState({\n        action: action,\n        location: location,\n        index: nextIndex,\n        entries: nextEntries\n      });\n    });\n  };\n\n  var replace = function replace(path, state) {\n    (0, _warning2.default)(!((typeof path === 'undefined' ? 'undefined' : _typeof(path)) === 'object' && path.state !== undefined && state !== undefined), 'You should avoid providing a 2nd state argument to replace when the 1st ' + 'argument is a location-like object that already has state; it is ignored');\n\n    var action = 'REPLACE';\n    var location = (0, _LocationUtils.createLocation)(path, state, createKey(), history.location);\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (!ok) return;\n\n      history.entries[history.index] = location;\n\n      setState({ action: action, location: location });\n    });\n  };\n\n  var go = function go(n) {\n    var nextIndex = clamp(history.index + n, 0, history.entries.length - 1);\n\n    var action = 'POP';\n    var location = history.entries[nextIndex];\n\n    transitionManager.confirmTransitionTo(location, action, getUserConfirmation, function (ok) {\n      if (ok) {\n        setState({\n          action: action,\n          location: location,\n          index: nextIndex\n        });\n      } else {\n        // Mimic the behavior of DOM histories by\n        // causing a render after a cancelled POP.\n        setState();\n      }\n    });\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var canGo = function canGo(n) {\n    var nextIndex = history.index + n;\n    return nextIndex >= 0 && nextIndex < history.entries.length;\n  };\n\n  var block = function block() {\n    var prompt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    return transitionManager.setPrompt(prompt);\n  };\n\n  var listen = function listen(listener) {\n    return transitionManager.appendListener(listener);\n  };\n\n  var history = {\n    length: entries.length,\n    action: 'POP',\n    location: entries[index],\n    index: index,\n    entries: entries,\n    createHref: createHref,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    canGo: canGo,\n    block: block,\n    listen: listen\n  };\n\n  return history;\n};\n\nexports.default = createMemoryHistory;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/createMemoryHistory.js\n// module id = 55\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createTransitionManager = function createTransitionManager() {\n  var prompt = null;\n\n  var setPrompt = function setPrompt(nextPrompt) {\n    (0, _warning2.default)(prompt == null, 'A history supports only one prompt at a time');\n\n    prompt = nextPrompt;\n\n    return function () {\n      if (prompt === nextPrompt) prompt = null;\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, action, getUserConfirmation, callback) {\n    // TODO: If another transition starts while we're still confirming\n    // the previous one, we may end up in a weird state. Figure out the\n    // best way to handle this.\n    if (prompt != null) {\n      var result = typeof prompt === 'function' ? prompt(location, action) : prompt;\n\n      if (typeof result === 'string') {\n        if (typeof getUserConfirmation === 'function') {\n          getUserConfirmation(result, callback);\n        } else {\n          (0, _warning2.default)(false, 'A history needs a getUserConfirmation function in order to use a prompt message');\n\n          callback(true);\n        }\n      } else {\n        // Return false from a transition hook to cancel the transition.\n        callback(result !== false);\n      }\n    } else {\n      callback(true);\n    }\n  };\n\n  var listeners = [];\n\n  var appendListener = function appendListener(fn) {\n    var isActive = true;\n\n    var listener = function listener() {\n      if (isActive) fn.apply(undefined, arguments);\n    };\n\n    listeners.push(listener);\n\n    return function () {\n      isActive = false;\n      listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var notifyListeners = function notifyListeners() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    listeners.forEach(function (listener) {\n      return listener.apply(undefined, args);\n    });\n  };\n\n  return {\n    setPrompt: setPrompt,\n    confirmTransitionTo: confirmTransitionTo,\n    appendListener: appendListener,\n    notifyListeners: notifyListeners\n  };\n};\n\nexports.default = createTransitionManager;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/history/createTransitionManager.js\n// module id = 56\n// module chunks = 0","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    arguments: true,\n    arity: true\n};\n\nvar isGetOwnPropertySymbolsAvailable = typeof Object.getOwnPropertySymbols === 'function';\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n        var keys = Object.getOwnPropertyNames(sourceComponent);\n\n        /* istanbul ignore else */\n        if (isGetOwnPropertySymbolsAvailable) {\n            keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {\n                try {\n                    targetComponent[keys[i]] = sourceComponent[keys[i]];\n                } catch (error) {\n\n                }\n            }\n        }\n    }\n\n    return targetComponent;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/hoist-non-react-statics/index.js\n// module id = 57\n// module chunks = 0","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport createHistory from 'history/createMemoryHistory';\nimport Router from './Router';\n\n/**\n * The public API for a <Router> that stores location in memory.\n */\n\nvar MemoryRouter = function (_React$Component) {\n  _inherits(MemoryRouter, _React$Component);\n\n  function MemoryRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MemoryRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.history = createHistory(_this.props), _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  MemoryRouter.prototype.render = function render() {\n    return React.createElement(Router, { history: this.history, children: this.props.children });\n  };\n\n  return MemoryRouter;\n}(React.Component);\n\nMemoryRouter.propTypes = {\n  initialEntries: PropTypes.array,\n  initialIndex: PropTypes.number,\n  getUserConfirmation: PropTypes.func,\n  keyLength: PropTypes.number,\n  children: PropTypes.node\n};\n\n\nexport default MemoryRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/MemoryRouter.js\n// module id = 58\n// module chunks = 0","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The public API for prompting the user before navigating away\n * from a screen with a component.\n */\n\nvar Prompt = function (_React$Component) {\n  _inherits(Prompt, _React$Component);\n\n  function Prompt() {\n    _classCallCheck(this, Prompt);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Prompt.prototype.enable = function enable(message) {\n    if (this.unblock) this.unblock();\n\n    this.unblock = this.context.router.history.block(message);\n  };\n\n  Prompt.prototype.disable = function disable() {\n    if (this.unblock) {\n      this.unblock();\n      this.unblock = null;\n    }\n  };\n\n  Prompt.prototype.componentWillMount = function componentWillMount() {\n    if (this.props.when) this.enable(this.props.message);\n  };\n\n  Prompt.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    if (nextProps.when) {\n      if (!this.props.when || this.props.message !== nextProps.message) this.enable(nextProps.message);\n    } else {\n      this.disable();\n    }\n  };\n\n  Prompt.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.disable();\n  };\n\n  Prompt.prototype.render = function render() {\n    return null;\n  };\n\n  return Prompt;\n}(React.Component);\n\nPrompt.propTypes = {\n  when: PropTypes.bool,\n  message: PropTypes.oneOfType([PropTypes.func, PropTypes.string]).isRequired\n};\nPrompt.defaultProps = {\n  when: true\n};\nPrompt.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      block: PropTypes.func.isRequired\n    }).isRequired\n  }).isRequired\n};\n\n\nexport default Prompt;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/Prompt.js\n// module id = 59\n// module chunks = 0","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The public API for updating the location programatically\n * with a component.\n */\n\nvar Redirect = function (_React$Component) {\n  _inherits(Redirect, _React$Component);\n\n  function Redirect() {\n    _classCallCheck(this, Redirect);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Redirect.prototype.isStatic = function isStatic() {\n    return this.context.router && this.context.router.staticContext;\n  };\n\n  Redirect.prototype.componentWillMount = function componentWillMount() {\n    if (this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.componentDidMount = function componentDidMount() {\n    if (!this.isStatic()) this.perform();\n  };\n\n  Redirect.prototype.perform = function perform() {\n    var history = this.context.router.history;\n    var _props = this.props,\n        push = _props.push,\n        to = _props.to;\n\n\n    if (push) {\n      history.push(to);\n    } else {\n      history.replace(to);\n    }\n  };\n\n  Redirect.prototype.render = function render() {\n    return null;\n  };\n\n  return Redirect;\n}(React.Component);\n\nRedirect.propTypes = {\n  push: PropTypes.bool,\n  from: PropTypes.string,\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\nRedirect.defaultProps = {\n  push: false\n};\nRedirect.contextTypes = {\n  router: PropTypes.shape({\n    history: PropTypes.shape({\n      push: PropTypes.func.isRequired,\n      replace: PropTypes.func.isRequired\n    }).isRequired,\n    staticContext: PropTypes.object\n  }).isRequired\n};\n\n\nexport default Redirect;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/Redirect.js\n// module id = 60\n// module chunks = 0","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport invariant from 'invariant';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { addLeadingSlash, createPath, parsePath } from 'history/PathUtils';\nimport Router from './Router';\n\nvar normalizeLocation = function normalizeLocation(object) {\n  var _object$pathname = object.pathname,\n      pathname = _object$pathname === undefined ? '/' : _object$pathname,\n      _object$search = object.search,\n      search = _object$search === undefined ? '' : _object$search,\n      _object$hash = object.hash,\n      hash = _object$hash === undefined ? '' : _object$hash;\n\n\n  return {\n    pathname: pathname,\n    search: search === '?' ? '' : search,\n    hash: hash === '#' ? '' : hash\n  };\n};\n\nvar addBasename = function addBasename(basename, location) {\n  if (!basename) return location;\n\n  return _extends({}, location, {\n    pathname: addLeadingSlash(basename) + location.pathname\n  });\n};\n\nvar stripBasename = function stripBasename(basename, location) {\n  if (!basename) return location;\n\n  var base = addLeadingSlash(basename);\n\n  if (location.pathname.indexOf(base) !== 0) return location;\n\n  return _extends({}, location, {\n    pathname: location.pathname.substr(base.length)\n  });\n};\n\nvar createLocation = function createLocation(location) {\n  return typeof location === 'string' ? parsePath(location) : normalizeLocation(location);\n};\n\nvar createURL = function createURL(location) {\n  return typeof location === 'string' ? location : createPath(location);\n};\n\nvar staticHandler = function staticHandler(methodName) {\n  return function () {\n    invariant(false, 'You cannot %s with <StaticRouter>', methodName);\n  };\n};\n\nvar noop = function noop() {};\n\n/**\n * The public top-level API for a \"static\" <Router>, so-called because it\n * can't actually change the current location. Instead, it just records\n * location changes in a context object. Useful mainly in testing and\n * server-rendering scenarios.\n */\n\nvar StaticRouter = function (_React$Component) {\n  _inherits(StaticRouter, _React$Component);\n\n  function StaticRouter() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, StaticRouter);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.createHref = function (path) {\n      return addLeadingSlash(_this.props.basename + createURL(path));\n    }, _this.handlePush = function (location) {\n      var _this$props = _this.props,\n          basename = _this$props.basename,\n          context = _this$props.context;\n\n      context.action = 'PUSH';\n      context.location = addBasename(basename, createLocation(location));\n      context.url = createURL(context.location);\n    }, _this.handleReplace = function (location) {\n      var _this$props2 = _this.props,\n          basename = _this$props2.basename,\n          context = _this$props2.context;\n\n      context.action = 'REPLACE';\n      context.location = addBasename(basename, createLocation(location));\n      context.url = createURL(context.location);\n    }, _this.handleListen = function () {\n      return noop;\n    }, _this.handleBlock = function () {\n      return noop;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  StaticRouter.prototype.getChildContext = function getChildContext() {\n    return {\n      router: {\n        staticContext: this.props.context\n      }\n    };\n  };\n\n  StaticRouter.prototype.render = function render() {\n    var _props = this.props,\n        basename = _props.basename,\n        context = _props.context,\n        location = _props.location,\n        props = _objectWithoutProperties(_props, ['basename', 'context', 'location']);\n\n    var history = {\n      createHref: this.createHref,\n      action: 'POP',\n      location: stripBasename(basename, createLocation(location)),\n      push: this.handlePush,\n      replace: this.handleReplace,\n      go: staticHandler('go'),\n      goBack: staticHandler('goBack'),\n      goForward: staticHandler('goForward'),\n      listen: this.handleListen,\n      block: this.handleBlock\n    };\n\n    return React.createElement(Router, _extends({}, props, { history: history }));\n  };\n\n  return StaticRouter;\n}(React.Component);\n\nStaticRouter.propTypes = {\n  basename: PropTypes.string,\n  context: PropTypes.object.isRequired,\n  location: PropTypes.oneOfType([PropTypes.string, PropTypes.object])\n};\nStaticRouter.defaultProps = {\n  basename: '',\n  location: '/'\n};\nStaticRouter.childContextTypes = {\n  router: PropTypes.object.isRequired\n};\n\n\nexport default StaticRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/StaticRouter.js\n// module id = 61\n// module chunks = 0","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport warning from 'warning';\nimport matchPath from './matchPath';\n\n/**\n * The public API for rendering the first <Route> that matches.\n */\n\nvar Switch = function (_React$Component) {\n  _inherits(Switch, _React$Component);\n\n  function Switch() {\n    _classCallCheck(this, Switch);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Switch.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n    warning(!(nextProps.location && !this.props.location), '<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no \"location\" prop and then provided one on a subsequent render.');\n\n    warning(!(!nextProps.location && this.props.location), '<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a \"location\" prop initially but omitted it on a subsequent render.');\n  };\n\n  Switch.prototype.render = function render() {\n    var route = this.context.router.route;\n    var children = this.props.children;\n\n    var location = this.props.location || route.location;\n\n    var match = void 0,\n        child = void 0;\n    React.Children.forEach(children, function (element) {\n      if (!React.isValidElement(element)) return;\n\n      var _element$props = element.props,\n          pathProp = _element$props.path,\n          exact = _element$props.exact,\n          strict = _element$props.strict,\n          from = _element$props.from;\n\n      var path = pathProp || from;\n\n      if (match == null) {\n        child = element;\n        match = path ? matchPath(location.pathname, { path: path, exact: exact, strict: strict }) : route.match;\n      }\n    });\n\n    return match ? React.cloneElement(child, { location: location, computedMatch: match }) : null;\n  };\n\n  return Switch;\n}(React.Component);\n\nSwitch.contextTypes = {\n  router: PropTypes.shape({\n    route: PropTypes.object.isRequired\n  }).isRequired\n};\nSwitch.propTypes = {\n  children: PropTypes.node,\n  location: PropTypes.object\n};\n\n\nexport default Switch;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/Switch.js\n// module id = 62\n// module chunks = 0","var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport hoistStatics from 'hoist-non-react-statics';\nimport Route from './Route';\n\n/**\n * A public higher-order component to access the imperative API\n */\nvar withRouter = function withRouter(Component) {\n  var C = function C(props) {\n    var wrappedComponentRef = props.wrappedComponentRef,\n        remainingProps = _objectWithoutProperties(props, ['wrappedComponentRef']);\n\n    return React.createElement(Route, { render: function render(routeComponentProps) {\n        return React.createElement(Component, _extends({}, remainingProps, routeComponentProps, { ref: wrappedComponentRef }));\n      } });\n  };\n\n  C.displayName = 'withRouter(' + (Component.displayName || Component.name) + ')';\n  C.WrappedComponent = Component;\n  C.propTypes = {\n    wrappedComponentRef: PropTypes.func\n  };\n\n  return hoistStatics(C, Component);\n};\n\nexport default withRouter;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/es/withRouter.js\n// module id = 63\n// module chunks = 0","module.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/~/isarray/index.js\n// module id = 64\n// module chunks = 0","var isarray = require('isarray')\n\n/**\n * Expose `pathToRegexp`.\n */\nmodule.exports = pathToRegexp\nmodule.exports.parse = parse\nmodule.exports.compile = compile\nmodule.exports.tokensToFunction = tokensToFunction\nmodule.exports.tokensToRegExp = tokensToRegExp\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match escaped characters that would otherwise appear in future matches.\n  // This allows the user to escape special characters that won't transform.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\", undefined]\n  // \"/route(\\\\d+)\"  => [undefined, undefined, undefined, \"\\d+\", undefined, undefined]\n  // \"/*\"            => [\"/\", undefined, undefined, undefined, undefined, \"*\"]\n  '([\\\\/.])?(?:(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))?|\\\\(((?:\\\\\\\\.|[^\\\\\\\\()])+)\\\\))([+*?])?|(\\\\*))'\n].join('|'), 'g')\n\n/**\n * Parse a string for the raw tokens.\n *\n * @param  {string}  str\n * @param  {Object=} options\n * @return {!Array}\n */\nfunction parse (str, options) {\n  var tokens = []\n  var key = 0\n  var index = 0\n  var path = ''\n  var defaultDelimiter = options && options.delimiter || '/'\n  var res\n\n  while ((res = PATH_REGEXP.exec(str)) != null) {\n    var m = res[0]\n    var escaped = res[1]\n    var offset = res.index\n    path += str.slice(index, offset)\n    index = offset + m.length\n\n    // Ignore already escaped sequences.\n    if (escaped) {\n      path += escaped[1]\n      continue\n    }\n\n    var next = str[index]\n    var prefix = res[2]\n    var name = res[3]\n    var capture = res[4]\n    var group = res[5]\n    var modifier = res[6]\n    var asterisk = res[7]\n\n    // Push the current path onto the tokens.\n    if (path) {\n      tokens.push(path)\n      path = ''\n    }\n\n    var partial = prefix != null && next != null && next !== prefix\n    var repeat = modifier === '+' || modifier === '*'\n    var optional = modifier === '?' || modifier === '*'\n    var delimiter = res[2] || defaultDelimiter\n    var pattern = capture || group\n\n    tokens.push({\n      name: name || key++,\n      prefix: prefix || '',\n      delimiter: delimiter,\n      optional: optional,\n      repeat: repeat,\n      partial: partial,\n      asterisk: !!asterisk,\n      pattern: pattern ? escapeGroup(pattern) : (asterisk ? '.*' : '[^' + escapeString(delimiter) + ']+?')\n    })\n  }\n\n  // Match any characters still remaining.\n  if (index < str.length) {\n    path += str.substr(index)\n  }\n\n  // If the path exists, push it onto the end.\n  if (path) {\n    tokens.push(path)\n  }\n\n  return tokens\n}\n\n/**\n * Compile a string to a template function for the path.\n *\n * @param  {string}             str\n * @param  {Object=}            options\n * @return {!function(Object=, Object=)}\n */\nfunction compile (str, options) {\n  return tokensToFunction(parse(str, options))\n}\n\n/**\n * Prettier encoding of URI path segments.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeURIComponentPretty (str) {\n  return encodeURI(str).replace(/[\\/?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Encode the asterisk parameter. Similar to `pretty`, but allows slashes.\n *\n * @param  {string}\n * @return {string}\n */\nfunction encodeAsterisk (str) {\n  return encodeURI(str).replace(/[?#]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nfunction tokensToFunction (tokens) {\n  // Compile all the tokens into regexps.\n  var matches = new Array(tokens.length)\n\n  // Compile all the patterns before compilation.\n  for (var i = 0; i < tokens.length; i++) {\n    if (typeof tokens[i] === 'object') {\n      matches[i] = new RegExp('^(?:' + tokens[i].pattern + ')$')\n    }\n  }\n\n  return function (obj, opts) {\n    var path = ''\n    var data = obj || {}\n    var options = opts || {}\n    var encode = options.pretty ? encodeURIComponentPretty : encodeURIComponent\n\n    for (var i = 0; i < tokens.length; i++) {\n      var token = tokens[i]\n\n      if (typeof token === 'string') {\n        path += token\n\n        continue\n      }\n\n      var value = data[token.name]\n      var segment\n\n      if (value == null) {\n        if (token.optional) {\n          // Prepend partial segment prefixes.\n          if (token.partial) {\n            path += token.prefix\n          }\n\n          continue\n        } else {\n          throw new TypeError('Expected \"' + token.name + '\" to be defined')\n        }\n      }\n\n      if (isarray(value)) {\n        if (!token.repeat) {\n          throw new TypeError('Expected \"' + token.name + '\" to not repeat, but received `' + JSON.stringify(value) + '`')\n        }\n\n        if (value.length === 0) {\n          if (token.optional) {\n            continue\n          } else {\n            throw new TypeError('Expected \"' + token.name + '\" to not be empty')\n          }\n        }\n\n        for (var j = 0; j < value.length; j++) {\n          segment = encode(value[j])\n\n          if (!matches[i].test(segment)) {\n            throw new TypeError('Expected all \"' + token.name + '\" to match \"' + token.pattern + '\", but received `' + JSON.stringify(segment) + '`')\n          }\n\n          path += (j === 0 ? token.prefix : token.delimiter) + segment\n        }\n\n        continue\n      }\n\n      segment = token.asterisk ? encodeAsterisk(value) : encode(value)\n\n      if (!matches[i].test(segment)) {\n        throw new TypeError('Expected \"' + token.name + '\" to match \"' + token.pattern + '\", but received \"' + segment + '\"')\n      }\n\n      path += token.prefix + segment\n    }\n\n    return path\n  }\n}\n\n/**\n * Escape a regular expression string.\n *\n * @param  {string} str\n * @return {string}\n */\nfunction escapeString (str) {\n  return str.replace(/([.+*?=^!:${}()[\\]|\\/\\\\])/g, '\\\\$1')\n}\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {string} group\n * @return {string}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1')\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {!RegExp} re\n * @param  {Array}   keys\n * @return {!RegExp}\n */\nfunction attachKeys (re, keys) {\n  re.keys = keys\n  return re\n}\n\n/**\n * Get the flags for a regexp from the options.\n *\n * @param  {Object} options\n * @return {string}\n */\nfunction flags (options) {\n  return options.sensitive ? '' : 'i'\n}\n\n/**\n * Pull out keys from a regexp.\n *\n * @param  {!RegExp} path\n * @param  {!Array}  keys\n * @return {!RegExp}\n */\nfunction regexpToRegexp (path, keys) {\n  // Use a negative lookahead to match only capturing groups.\n  var groups = path.source.match(/\\((?!\\?)/g)\n\n  if (groups) {\n    for (var i = 0; i < groups.length; i++) {\n      keys.push({\n        name: i,\n        prefix: null,\n        delimiter: null,\n        optional: false,\n        repeat: false,\n        partial: false,\n        asterisk: false,\n        pattern: null\n      })\n    }\n  }\n\n  return attachKeys(path, keys)\n}\n\n/**\n * Transform an array into a regexp.\n *\n * @param  {!Array}  path\n * @param  {Array}   keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction arrayToRegexp (path, keys, options) {\n  var parts = []\n\n  for (var i = 0; i < path.length; i++) {\n    parts.push(pathToRegexp(path[i], keys, options).source)\n  }\n\n  var regexp = new RegExp('(?:' + parts.join('|') + ')', flags(options))\n\n  return attachKeys(regexp, keys)\n}\n\n/**\n * Create a path regexp from string input.\n *\n * @param  {string}  path\n * @param  {!Array}  keys\n * @param  {!Object} options\n * @return {!RegExp}\n */\nfunction stringToRegexp (path, keys, options) {\n  return tokensToRegExp(parse(path, options), keys, options)\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n *\n * @param  {!Array}          tokens\n * @param  {(Array|Object)=} keys\n * @param  {Object=}         options\n * @return {!RegExp}\n */\nfunction tokensToRegExp (tokens, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  var strict = options.strict\n  var end = options.end !== false\n  var route = ''\n\n  // Iterate over the tokens and create our regexp string.\n  for (var i = 0; i < tokens.length; i++) {\n    var token = tokens[i]\n\n    if (typeof token === 'string') {\n      route += escapeString(token)\n    } else {\n      var prefix = escapeString(token.prefix)\n      var capture = '(?:' + token.pattern + ')'\n\n      keys.push(token)\n\n      if (token.repeat) {\n        capture += '(?:' + prefix + capture + ')*'\n      }\n\n      if (token.optional) {\n        if (!token.partial) {\n          capture = '(?:' + prefix + '(' + capture + '))?'\n        } else {\n          capture = prefix + '(' + capture + ')?'\n        }\n      } else {\n        capture = prefix + '(' + capture + ')'\n      }\n\n      route += capture\n    }\n  }\n\n  var delimiter = escapeString(options.delimiter || '/')\n  var endsWithDelimiter = route.slice(-delimiter.length) === delimiter\n\n  // In non-strict mode we allow a slash at the end of match. If the path to\n  // match already ends with a slash, we remove it for consistency. The slash\n  // is valid at the end of a path match, not in the middle. This is important\n  // in non-ending mode, where \"/test/\" shouldn't match \"/test//route\".\n  if (!strict) {\n    route = (endsWithDelimiter ? route.slice(0, -delimiter.length) : route) + '(?:' + delimiter + '(?=$))?'\n  }\n\n  if (end) {\n    route += '$'\n  } else {\n    // In non-ending mode, we need the capturing groups to match as much as\n    // possible by using a positive lookahead to the end or next path segment.\n    route += strict && endsWithDelimiter ? '' : '(?=' + delimiter + '|$)'\n  }\n\n  return attachKeys(new RegExp('^' + route, flags(options)), keys)\n}\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n *\n * @param  {(string|RegExp|Array)} path\n * @param  {(Array|Object)=}       keys\n * @param  {Object=}               options\n * @return {!RegExp}\n */\nfunction pathToRegexp (path, keys, options) {\n  if (!isarray(keys)) {\n    options = /** @type {!Object} */ (keys || options)\n    keys = []\n  }\n\n  options = options || {}\n\n  if (path instanceof RegExp) {\n    return regexpToRegexp(path, /** @type {!Array} */ (keys))\n  }\n\n  if (isarray(path)) {\n    return arrayToRegexp(/** @type {!Array} */ (path), /** @type {!Array} */ (keys), options)\n  }\n\n  return stringToRegexp(/** @type {string} */ (path), /** @type {!Array} */ (keys), options)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/react-router/~/path-to-regexp/index.js\n// module id = 65\n// module chunks = 0","'use strict';\n\nvar isAbsolute = function isAbsolute(pathname) {\n  return pathname.charAt(0) === '/';\n};\n\n// About 1.5x faster than the two-arg version of Array#splice()\nvar spliceOne = function spliceOne(list, index) {\n  for (var i = index, k = i + 1, n = list.length; k < n; i += 1, k += 1) {\n    list[i] = list[k];\n  }list.pop();\n};\n\n// This implementation is based heavily on node's url.parse\nvar resolvePathname = function resolvePathname(to) {\n  var from = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  var toParts = to && to.split('/') || [];\n  var fromParts = from && from.split('/') || [];\n\n  var isToAbs = to && isAbsolute(to);\n  var isFromAbs = from && isAbsolute(from);\n  var mustEndAbs = isToAbs || isFromAbs;\n\n  if (to && isAbsolute(to)) {\n    // to is absolute\n    fromParts = toParts;\n  } else if (toParts.length) {\n    // to is relative, drop the filename\n    fromParts.pop();\n    fromParts = fromParts.concat(toParts);\n  }\n\n  if (!fromParts.length) return '/';\n\n  var hasTrailingSlash = void 0;\n  if (fromParts.length) {\n    var last = fromParts[fromParts.length - 1];\n    hasTrailingSlash = last === '.' || last === '..' || last === '';\n  } else {\n    hasTrailingSlash = false;\n  }\n\n  var up = 0;\n  for (var i = fromParts.length; i >= 0; i--) {\n    var part = fromParts[i];\n\n    if (part === '.') {\n      spliceOne(fromParts, i);\n    } else if (part === '..') {\n      spliceOne(fromParts, i);\n      up++;\n    } else if (up) {\n      spliceOne(fromParts, i);\n      up--;\n    }\n  }\n\n  if (!mustEndAbs) for (; up--; up) {\n    fromParts.unshift('..');\n  }if (mustEndAbs && fromParts[0] !== '' && (!fromParts[0] || !isAbsolute(fromParts[0]))) fromParts.unshift('');\n\n  var result = fromParts.join('/');\n\n  if (hasTrailingSlash && result.substr(-1) !== '/') result += '/';\n\n  return result;\n};\n\nmodule.exports = resolvePathname;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/resolve-pathname/index.js\n// module id = 66\n// module chunks = 0","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar valueEqual = function valueEqual(a, b) {\n  if (a === b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n    return valueEqual(item, b[index]);\n  });\n\n  var aType = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var bType = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (aType !== bType) return false;\n\n  if (aType === 'object') {\n    var aValue = a.valueOf();\n    var bValue = b.valueOf();\n\n    if (aValue !== a || bValue !== b) return valueEqual(aValue, bValue);\n\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n\n    if (aKeys.length !== bKeys.length) return false;\n\n    return aKeys.every(function (key) {\n      return valueEqual(a[key], b[key]);\n    });\n  }\n\n  return false;\n};\n\nexports.default = valueEqual;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/value-equal/index.js\n// module id = 67\n// module chunks = 0"],"sourceRoot":""}